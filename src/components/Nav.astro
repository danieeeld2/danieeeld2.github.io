---
interface Props {
  nav: {
    about: string;
    cv: string;
    projects: string;
    blog: string;
    switchLang: string;
  };
  lang: string;
}

const { nav, lang } = Astro.props;
const otherLang = lang === 'es' ? 'en' : 'es';
---

<nav class="nav-blur fixed top-0 left-0 right-0 z-50">
  <div class="max-w-5xl mx-auto px-6 py-4 flex items-center justify-between">
    <a href={`/${lang}/`} class="font-mono text-sm tracking-tight hover:text-sand-600 dark:hover:text-sand-400 transition-colors">
      <span class="text-sand-400 dark:text-sand-500">return</span> dani<span class="text-sand-400 dark:text-sand-500">;</span>
    </a>

    <!-- Desktop nav -->
    <div class="hidden md:flex items-center gap-8">
      <a href={`/${lang}/#about`} class="text-sm font-body hover:text-sand-600 dark:hover:text-sand-400 transition-colors">{nav.about}</a>
      <a href={`/${lang}/#cv`} class="text-sm font-body hover:text-sand-600 dark:hover:text-sand-400 transition-colors">{nav.cv}</a>
      <a href={`/${lang}/#projects`} class="text-sm font-body hover:text-sand-600 dark:hover:text-sand-400 transition-colors">{nav.projects}</a>
      <a href={`/${lang}/#blog`} class="text-sm font-body hover:text-sand-600 dark:hover:text-sand-400 transition-colors">{nav.blog}</a>
      <div class="flex items-center gap-3 ml-2">
        <a href={`/${otherLang}/`} class="text-xs font-mono px-2.5 py-1 rounded-full border border-sand-300 dark:border-ink-700 hover:bg-sand-200 dark:hover:bg-ink-800 transition-colors">
          {nav.switchLang}
        </a>
        <button onclick="toggleTheme()" class="p-2 rounded-full hover:bg-sand-200 dark:hover:bg-ink-800 transition-colors" aria-label="Toggle theme">
          <svg class="w-4 h-4 hidden dark:block" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"/></svg>
          <svg class="w-4 h-4 block dark:hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/></svg>
        </button>
      </div>
    </div>

    <!-- Mobile hamburger -->
    <div class="flex md:hidden items-center gap-3">
      <a href={`/${otherLang}/`} class="text-xs font-mono px-2 py-1 rounded-full border border-sand-300 dark:border-ink-700">
        {nav.switchLang}
      </a>
      <button onclick="toggleTheme()" class="p-2" aria-label="Toggle theme">
        <svg class="w-4 h-4 hidden dark:block" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"/></svg>
        <svg class="w-4 h-4 block dark:hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/></svg>
      </button>
      <button onclick="toggleMenu()" class="p-2" aria-label="Menu">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </div>
  </div>

  <!-- Mobile menu -->
  <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-3">
    <a href={`/${lang}/#about`} onclick="toggleMenu()" class="block text-sm">{nav.about}</a>
    <a href={`/${lang}/#cv`} onclick="toggleMenu()" class="block text-sm">{nav.cv}</a>
    <a href={`/${lang}/#projects`} onclick="toggleMenu()" class="block text-sm">{nav.projects}</a>
    <a href={`/${lang}/#blog`} onclick="toggleMenu()" class="block text-sm">{nav.blog}</a>
  </div>
</nav>
